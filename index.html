<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OARA - Science of HNBC</title>
    
    <!-- Ê†∏ÂøÉ‰æùËµñ -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brandYellow: '#f6ee52',
                        brandBlack: '#000000',
                        brandGreen: '#059669',
                        brandGold: '#F59E0B',
                        brandPlatinum: '#E5E7EB',
                    },
                    animation: {
                        'marquee': 'marquee 25s linear infinite',
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'gradient-x': 'gradientX 15s ease infinite',
                        'search-expand': 'searchExpand 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(100%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        gradientX: {
                            '0%, 100%': { 'background-position': '0% 50%' },
                            '50%': { 'background-position': '100% 50%' },
                        },
                        searchExpand: {
                            '0%': { opacity: '0', transform: 'translateY(-20px) scale(0.9)' },
                            '100%': { opacity: '1', transform: 'translateY(0) scale(1)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .aurora-bg {
            background: linear-gradient(-45deg, #000000, #1a1a1a, #333333, #f6ee52);
            background-size: 400% 400%;
            animation: gradientX 15s ease infinite;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .ai-btn-glow { position: relative; overflow: hidden; }
        .ai-btn-glow::after {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.8), transparent);
            transform: rotate(45deg); animation: shine 3s infinite;
        }
        @keyframes shine { 0% { left: -100%; } 20% { left: 100%; } 100% { left: 100%; } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- 0. ÂõæÊ†áÂ∫ì ---
        const Icon = ({ path, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{path}</svg>
        );

        const Icons = {
            ShoppingBag: (p) => <Icon {...p} path={<><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></>} />,
            User: (p) => <Icon {...p} path={<><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></>} />,
            Search: (p) => <Icon {...p} path={<><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></>} />,
            Menu: (p) => <Icon {...p} path={<><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></>} />,
            X: (p) => <Icon {...p} path={<><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>} />,
            Plus: (p) => <Icon {...p} path={<><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            Minus: (p) => <Icon {...p} path={<><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            MapPin: (p) => <Icon {...p} path={<><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>} />,
            ChevronDown: (p) => <Icon {...p} path={<><path d="m6 9 6 6 6-6"/></>} />,
            ChevronRight: (p) => <Icon {...p} path={<><path d="m9 18 6-6-6-6"/></>} />,
            Star: (p) => <Icon {...p} path={<><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></>} />,
            Zap: (p) => <Icon {...p} path={<><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></>} />,
            Droplet: (p) => <Icon {...p} path={<><path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"/></>} />,
            MessageCircle: (p) => <Icon {...p} path={<><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></>} />,
            QrCode: (p) => <Icon {...p} path={<><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></>} />,
            Microscope: (p) => <Icon {...p} path={<><path d="M6 18h8"/><path d="M3 22h18"/><path d="M14 22a7 7 0 1 0 0-14h-1"/><path d="M9 14h2"/><path d="M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z"/><path d="M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3"/></>} />,
            Recycle: (p) => <Icon {...p} path={<><path d="M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5"/><path d="M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12"/><path d="m14 16-3 3 3 3"/><path d="M8.293 13.596 7.196 9.5 3.1 9.5a1.83 1.83 0 0 1-1.582-.881 1.785 1.785 0 0 1-.004-1.784l4.296-7.882a1.833 1.833 0 0 1 1.582-.892h8.605a1.832 1.832 0 0 1 1.582.892l4.296 7.882a1.785 1.785 0 0 1-.004 1.784L19.91 13.5"/></>} />,
            Mail: (p) => <Icon {...p} path={<><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></>} />,
            Phone: (p) => <Icon {...p} path={<><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></>} />,
            Cpu: (p) => <Icon {...p} path={<><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></>} />,
            Gift: (p) => <Icon {...p} path={<><polyline points="20 12 20 22 4 22 4 12"/><rect width="20" height="5" x="2" y="7" rx="1"/><line x1="12" x2="12" y1="22" y2="7"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/></>} />,
            Award: (p) => <Icon {...p} path={<><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></>} />,
            Box: (p) => <Icon {...p} path={<><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></>} />,
            Leaf: (p) => <Icon {...p} path={<><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></>} />,
            Sparkles: (p) => <Icon {...p} path={<><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5h4"/><path d="M19 19v4"/><path d="M15 21h4"/></>} />,
            Bot: (p) => <Icon {...p} path={<><rect width="18" height="10" x="3" y="11" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" x2="8" y1="16" y2="16"/><line x1="16" x2="16" y1="16" y2="16"/></>} />,
            CheckCircle: (p) => <Icon {...p} path={<><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></>} />,
            Clock: (p) => <Icon {...p} path={<><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></>} />,
            Lock: (p) => <Icon {...p} path={<><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></>} />,
            Unlock: (p) => <Icon {...p} path={<><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></>} />,
            Truck: (p) => <Icon {...p} path={<><rect width="16" height="13" x="1" y="3" rx="2" /><polygon points="16 8 20 8 23 11 23 16 16 16 16 8" /><circle cx="5.5" cy="18.5" r="2.5" /><circle cx="18.5" cy="18.5" r="2.5" /></>} />,
            ArrowRight: (p) => <Icon {...p} path={<><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></>} />,
        };
        const { ShoppingBag, User, Search, Menu, X, Plus, Minus, MapPin, ChevronDown, Star, Zap, Droplet, MessageCircle, QrCode, Microscope, Recycle, Mail, Phone, Cpu, Gift, Award, Box, Leaf, Sparkles, Bot, CheckCircle, Clock, Lock, Unlock, Truck, ArrowRight } = Icons;

        // --- 1. Top Components ---
        const PromoTicker = () => (
            <div className="bg-brandBlack text-brandYellow py-2 overflow-hidden relative z-[60]">
                <div className="whitespace-nowrap animate-marquee flex items-center gap-10 text-xs font-bold tracking-widest uppercase">
                    <span>New Science: 95% Less Harmful Chemicals</span><span>‚Ä¢</span><span>Join Green Action: Recycle & Earn Points</span><span>‚Ä¢</span><span>Free Shipping on orders over $100</span>
                </div>
            </div>
        );

        // --- 2. Áã¨Á´ãÈ°µÈù¢ÔºöAI Search & FAQ (New Page) ---
        const AISearchPage = ({ initialQuery = "" }) => {
            const [query, setQuery] = useState(initialQuery);
            const [isSearching, setIsSearching] = useState(false);
            const [answer, setAnswer] = useState(null);

            useEffect(() => {
                if (initialQuery) {
                    handleSearch(null, initialQuery);
                }
            }, [initialQuery]);

            const handleSearch = (e, customQuery) => {
                if(e) e.preventDefault();
                const q = customQuery || query;
                if (!q.trim()) return;

                setIsSearching(true);
                setAnswer(null);
                
                setTimeout(() => {
                    setIsSearching(false);
                    setAnswer({
                        text: "Based on our latest lab data, OARA HNBC reduces harmful substances by 95% compared to traditional cigarettes. This is achieved through our Circumferential Heating Technology which operates at < 350¬∞C, preventing combustion.",
                        source: "Source: OARA R&D Lab Report 2025 ‚Ä¢ Verified by ISO 17025 Labs"
                    });
                }, 2000);
            };

            const categories = [
                { title: "General", qs: ["What is OARA HNBC?", "How to start?", "Store locations"] },
                { title: "Device", qs: ["Battery life", "Cleaning guide", "Warranty policy"] },
                { title: "Health", qs: ["Nicotine content", "Ingredients list", "Safety report"] },
                { title: "Order", qs: ["Shipping time", "Return policy", "Track order"] }
            ];

            return (
                <div className="animate-fade-in pt-32 pb-20 bg-gray-50 min-h-screen">
                    <div className="max-w-4xl mx-auto px-6">
                        <div className="text-center mb-12">
                            <div className="inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-1.5 rounded-full text-sm font-bold mb-6 shadow-lg shadow-blue-200">
                                <Sparkles size={16} /> OARA Intelligence
                            </div>
                            <h1 className="text-5xl font-black mb-4">How can we help?</h1>
                            <p className="text-gray-500 text-lg">Ask anything about our products, science, or services.</p>
                        </div>
                        <div className="relative mb-16">
                            <form onSubmit={handleSearch} className="relative z-10">
                                <div className="relative group">
                                    <div className="absolute inset-0 bg-gradient-to-r from-blue-200 to-purple-200 rounded-3xl blur opacity-20 group-hover:opacity-40 transition-opacity"></div>
                                    <input 
                                        type="text" 
                                        placeholder="Type your question here..." 
                                        className="w-full bg-white border border-gray-200 rounded-3xl py-6 pl-8 pr-40 outline-none focus:ring-4 focus:ring-blue-100 text-xl shadow-xl transition-all"
                                        value={query}
                                        onChange={(e) => setQuery(e.target.value)}
                                        autoFocus
                                    />
                                    <button type="submit" className="absolute right-3 top-2 bottom-2 bg-black text-white px-8 rounded-2xl font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors shadow-lg">
                                        {isSearching ? <span className="animate-spin">‚ü≥</span> : <ArrowRight size={20} />}
                                    </button>
                                </div>
                            </form>
                            {(isSearching || answer) && (
                                <div className="mt-8 bg-white border border-gray-100 rounded-3xl p-8 shadow-sm animate-fade-in relative overflow-hidden">
                                    {isSearching ? (
                                        <div className="flex items-center gap-4 text-gray-400">
                                            <div className="w-8 h-8 rounded-full border-2 border-gray-200 border-t-blue-600 animate-spin"></div>
                                            <span className="font-mono text-sm">Analyzing scientific database...</span>
                                        </div>
                                    ) : (
                                        <div className="flex gap-6">
                                            <div className="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-2xl flex items-center justify-center shrink-0 shadow-lg"><Bot size={28} /></div>
                                            <div><h4 className="font-bold text-xl mb-3">AI Answer</h4><p className="text-gray-700 leading-relaxed text-lg mb-4">{answer.text}</p><div className="flex items-center gap-2 text-xs font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-full w-max"><CheckCircle size={12} /> {answer.source}</div></div>
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                            {categories.map((cat, i) => (
                                <div key={i} className="bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
                                    <h3 className="font-bold text-lg mb-6 border-b border-gray-100 pb-2">{cat.title}</h3>
                                    <ul className="space-y-3">
                                        {cat.qs.map((q, j) => (
                                            <li key={j}>
                                                <button onClick={() => { setQuery(q); handleSearch(null, q); window.scrollTo({top:0, behavior:'smooth'}); }} className="text-gray-600 hover:text-blue-600 hover:underline text-sm text-left w-full flex items-center justify-between group">{q}<span className="opacity-0 group-hover:opacity-100 transition-opacity text-blue-400">‚Üí</span></button>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // --- 3. È¶ñÈ°µÊùøÂùó ---
        
        const HomeScienceHighlight = ({ onNavigate }) => (
            <section className="py-20 bg-gray-50 border-t border-gray-100">
                <div className="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                    <div>
                        <span className="text-blue-600 font-bold tracking-widest text-sm mb-4 block">OARA SCIENCE</span>
                        <h2 className="text-4xl md:text-5xl font-black mb-6 leading-tight">Harm Reduction, <br/>Quantified.</h2>
                        <p className="text-gray-500 text-lg mb-8 leading-relaxed">
                            Our proprietary Circumferential Heating Technology operates at strictly controlled temperatures (below 350¬∞C), ensuring nicotine delivery without combustion.
                        </p>
                        <button onClick={onNavigate} className="flex items-center gap-2 text-blue-600 font-bold hover:underline">View Full Science Report <ArrowRight size={20} /></button>
                    </div>
                    <div className="bg-white p-10 rounded-3xl shadow-sm relative overflow-hidden">
                        <div className="h-4 bg-gray-100 rounded-full mb-6 overflow-hidden relative"><div className="absolute top-0 left-0 h-full bg-red-500 w-full"></div><span className="absolute right-4 top-0 text-[10px] font-bold text-white leading-4">Combustible Cigarette (100%)</span></div>
                        <div className="h-4 bg-gray-100 rounded-full overflow-hidden relative"><div className="absolute top-0 left-0 h-full bg-blue-500 w-[5%]"></div><span className="absolute left-[7%] top-0 text-[10px] font-bold text-blue-600 leading-4">OARA HNBC (5%)</span></div>
                        <p className="text-xs text-gray-400 mt-6 text-center">*Based on ISO standard laboratory tests comparing harmful constituents.</p>
                    </div>
                </div>
            </section>
        );

        const HomeJournalHighlight = ({ onNavigate }) => (
            <section className="py-20 bg-white">
                <div className="max-w-6xl mx-auto px-6">
                    <div className="flex justify-between items-end mb-10"><h2 className="text-3xl font-black">Latest from Journal</h2><button onClick={onNavigate} className="text-sm font-bold border-b border-black pb-0.5">View All</button></div>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">{[{ title: "The Future of Heat-Not-Burn", cat: "INDUSTRY", date: "Jan 5", imgColor: "bg-gray-200" }, { title: "Sustainability at OARA: 2025 Report", cat: "GREEN", date: "Dec 20", imgColor: "bg-green-100" }, { title: "Designer Interview: The i-Heater Series", cat: "DESIGN", date: "Dec 10", imgColor: "bg-blue-100" }].map((item, i) => (<div key={i} className="group cursor-pointer"><div className={`${item.imgColor} h-48 rounded-2xl mb-4 overflow-hidden`}><div className="w-full h-full bg-black/5 group-hover:scale-105 transition-transform duration-500"></div></div><div className="text-xs font-bold text-gray-400 mb-2">{item.cat} ‚Ä¢ {item.date}</div><h3 className="text-xl font-bold group-hover:underline leading-tight">{item.title}</h3></div>))}</div>
                </div>
            </section>
        );

        const HomeCommunityHighlight = ({ onNavigate }) => (
            <section className="py-20 bg-gray-50 border-t border-gray-100">
                <div className="max-w-6xl mx-auto px-6">
                    <div className="flex justify-between items-end mb-10"><h2 className="text-3xl font-black">Community Voices</h2><button onClick={onNavigate} className="text-sm font-bold border-b border-black pb-0.5">Join Discussion</button></div>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">{[{ user: "Mike T.", tag: "Marlboro Switch", content: "Finally switched from Reds. The 'Bold' pod hits just right.", likes: 124 }, { user: "Sarah L.", tag: "Zhonghua Switch", content: "Missing the plum scent a bit, but my throat feels much better.", likes: 89 }, { user: "Davide", tag: "Menthol Lover", content: "The Ocean Blue flavor is actually crisper than my old brand.", likes: 56 }].map((post, i) => (<div key={i} className="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition-all cursor-pointer"><div className="flex justify-between items-start mb-4"><div className="flex items-center gap-3"><div className="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-gray-500 text-xs">{post.user[0]}</div><span className="font-bold text-sm">{post.user}</span></div><span className="text-[10px] font-bold bg-gray-100 px-2 py-1 rounded text-gray-500">{post.tag}</span></div><p className="text-gray-600 text-sm mb-6 leading-relaxed">"{post.content}"</p><div className="flex items-center gap-4 text-xs text-gray-400 font-bold border-t pt-4 border-gray-100"><span>üëç {post.likes}</span><span>üí¨ Comment</span></div></div>))}</div>
                </div>
            </section>
        );

        // --- 4. Store Locator (Simplified for Home Bottom) ---
        const StoreLocator = () => (
            <section className="h-[500px] relative w-full bg-gray-200">
                <div className="absolute inset-0 bg-[#e0e0e0] flex items-center justify-center opacity-70">
                    <div className="text-center"><MapPin size={64} className="mx-auto mb-4 text-gray-400" /><p className="text-4xl font-black text-gray-400/50 tracking-widest uppercase">Global Map</p></div>
                </div>
                <div className="absolute top-10 left-6 md:left-20 bg-white/95 backdrop-blur-sm p-6 rounded-2xl shadow-2xl w-[90%] md:w-[380px]">
                    <h3 className="text-xl font-bold text-black mb-4">Find a Retailer</h3>
                    <div className="relative mb-6"><Search className="absolute left-3 top-3.5 text-gray-400" size={18} /><input type="text" placeholder="City or Postal Code" className="w-full bg-gray-50 border border-gray-200 text-black rounded-lg pl-10 pr-4 py-3 outline-none focus:border-black transition-colors" /></div>
                    <div className="h-48 overflow-y-auto space-y-3 pr-2">{[1, 2, 3].map(i => (<div key={i} className="p-4 hover:bg-gray-50 rounded-xl cursor-pointer border border-transparent hover:border-gray-200 transition-all"><h4 className="font-bold text-black">OARA Store - Downtown</h4><p className="text-sm text-gray-500 mt-1">123 Tech Avenue, Innovation District</p><p className="text-xs text-green-600 mt-2 font-medium">‚óè Open Now</p></div>))}</div>
                </div>
            </section>
        );

        // --- 5. Home Bottom FAQ Teaser (ÈìæÊé•Âà∞Êñ∞È°µÈù¢) - ‰ºòÂåñÁâà ---
        const HomeFAQTeaser = ({ onNavigate }) => {
            const [localQuery, setLocalQuery] = useState("");

            return (
                <section className="py-20 bg-white border-t border-gray-100">
                    <div className="max-w-4xl mx-auto px-6 text-center">
                        <div className="inline-flex items-center gap-2 bg-blue-50 text-blue-600 px-4 py-1 rounded-full text-xs font-bold mb-4"><Bot size={16} /> Support Center</div>
                        <h2 className="text-3xl font-black mb-6">Have Questions?</h2>
                        <p className="text-gray-500 mb-8">Get instant answers from our AI or browse common topics.</p>
                        
                        <div className="relative max-w-lg mx-auto mb-8">
                            <div className="w-full bg-gray-50 border border-gray-200 rounded-2xl py-2 pl-6 pr-2 flex items-center shadow-sm focus-within:ring-2 focus-within:ring-blue-100 transition-all">
                                <input 
                                    type="text" 
                                    placeholder="Ask OARA AI..." 
                                    className="bg-transparent w-full outline-none text-gray-700 font-medium placeholder-gray-400"
                                    value={localQuery}
                                    onChange={(e) => setLocalQuery(e.target.value)}
                                    onKeyDown={(e) => {
                                        if (e.key === 'Enter') onNavigate(localQuery);
                                    }}
                                />
                                <button 
                                    onClick={() => onNavigate(localQuery)}
                                    className="bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 transition-colors shadow-md group"
                                >
                                    <Sparkles size={18} className="group-hover:animate-pulse"/>
                                </button>
                            </div>
                        </div>

                        <div className="flex flex-wrap justify-center gap-3">
                            {["Battery Life", "Nicotine", "Warranty", "Shipping"].map(t => (
                                <button key={t} onClick={() => onNavigate(t)} className="text-sm font-bold text-gray-500 bg-white border border-gray-200 hover:border-black hover:text-black py-2 px-4 rounded-full transition-colors">{t}</button>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        // --- ‰∏ªÁ®ãÂ∫è ---
        const OARAWeb = () => {
            const [activePage, setActivePage] = useState('home');
            const [deviceView, setDeviceView] = useState('list');
            const [selectedProduct, setSelectedProduct] = useState(null);
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
            const [quantity, setQuantity] = useState(1);
            const [selectedColor, setSelectedColor] = useState('silver');
            
            // Search State
            const [isSearchOpen, setIsSearchOpen] = useState(false);
            const [searchQuery, setSearchQuery] = useState('');
            const searchInputRef = useRef(null);
            // New: State to pass initial query to AI page
            const [aiInitialQuery, setAiInitialQuery] = useState('');

            const navigateTo = (page, params = {}) => {
                setActivePage(page);
                if (page === 'device') { setDeviceView('list'); setSelectedProduct(null); }
                
                // Â§ÑÁêÜ AI ÊêúÁ¥¢ÂèÇÊï∞‰º†ÈÄí
                if (page === 'ai-search') {
                    if (params.query) {
                        setAiInitialQuery(params.query);
                    } else {
                        setAiInitialQuery(''); // Â¶ÇÊûúÊ≤°ÊúâÂèÇÊï∞ÔºåÊ∏ÖÁ©∫
                    }
                } else {
                    setAiInitialQuery(''); // Á¶ªÂºÄ AI È°µÈù¢Êó∂Ê∏ÖÁ©∫
                }
                
                setMobileMenuOpen(false);
                window.scrollTo(0, 0);
            };

            // Search Handlers
            const openSearch = () => {
                setIsSearchOpen(true);
                setTimeout(() => searchInputRef.current?.focus(), 100);
            };

            const closeSearch = () => {
                setIsSearchOpen(false);
            };

            const handleSearchSubmit = (e) => {
                e.preventDefault();
                if (searchQuery.trim()) {
                    setIsSearchOpen(false); 
                    // Ë∑≥ËΩ¨Âà∞Êñ∞ÁöÑ AI ÊêúÁ¥¢È°µÈù¢ÔºåÂπ∂Â∏¶‰∏äÊêúÁ¥¢ËØç
                    navigateTo('ai-search', { query: searchQuery });
                }
            };

            const colors = {
                silver: { name: 'Silver', hex: '#E3E3E3', imgGradient: 'from-gray-200 to-gray-400' },
                blue: { name: 'Deep Blue', hex: '#1E3A8A', imgGradient: 'from-blue-700 to-black' },
                gold: { name: 'Gold', hex: '#D4AF37', imgGradient: 'from-yellow-400 to-yellow-700' }
            };

            const products = [
                { id: 'silver', name: 'i Heater Silver', colorKey: 'silver', price: '$99.00', desc: 'Classic elegance.' },
                { id: 'blue', name: 'i Heater Blue', colorKey: 'blue', price: '$99.00', desc: 'Deep mystery.' },
                { id: 'gold', name: 'i Heater Gold', colorKey: 'gold', price: '$129.00', desc: 'Limited Edition.' }
            ];

            const handleProductClick = (product) => {
                setSelectedProduct(product);
                setSelectedColor(product.colorKey);
                setDeviceView('detail');
                window.scrollTo(0, 0);
            };

            // --- Sub-Pages (Previous Ones Kept Simple for Brevity) ---
            const DevicePage = () => {
                if (deviceView === 'list') {
                    return (<div className="animate-fade-in pt-32 pb-20 bg-white"><div className="max-w-6xl mx-auto px-6"><h2 className="text-5xl font-black mb-16 text-center">Select Your Device</h2><div className="grid grid-cols-1 md:grid-cols-3 gap-8">{products.map((p) => (<div key={p.id} onClick={() => handleProductClick(p)} className="group cursor-pointer"><div className="bg-[#f5f5f7] rounded-3xl h-96 flex items-center justify-center mb-6 relative overflow-hidden hover:shadow-xl transition-all"><div className={`w-24 h-64 bg-gradient-to-b ${colors[p.colorKey].imgGradient} rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-500`}></div></div><h3 className="text-2xl font-bold">{p.name}</h3><span className="text-gray-500">{p.price}</span></div>))}</div></div></div>);
                } else {
                    return (<div className="animate-fade-in pt-24"><section className="py-12 bg-[#f9f9f9]"><div className="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center"><div className="bg-white rounded-3xl h-[500px] flex items-center justify-center shadow-sm relative"><button onClick={() => setDeviceView('list')} className="absolute top-6 left-6 text-sm font-bold flex items-center gap-1 hover:text-gray-600">‚Üê Back</button><div className={`w-32 h-80 rounded-full shadow-2xl bg-gradient-to-b ${colors[selectedColor].imgGradient}`}></div></div><div><h2 className="text-4xl font-bold mb-2">{selectedProduct?.name}</h2><p className="text-2xl font-medium mb-8">{selectedProduct?.price}</p><div className="mb-8 flex gap-4">{Object.keys(colors).map((k) => <button key={k} onClick={() => setSelectedColor(k)} className={`w-10 h-10 rounded-full border-2 ${selectedColor === k ? 'border-black' : 'border-transparent'}`} style={{ backgroundColor: colors[k].hex }} />)}</div><button className="w-full bg-black text-white py-4 rounded-full font-bold hover:bg-gray-800">Add to Cart</button></div></div></section></div>);
                }
            };
            const TechnologyPage = () => (<div className="animate-fade-in pt-32 pb-20 bg-white"><div className="max-w-7xl mx-auto px-6"><div className="text-center mb-24"><span className="text-blue-600 font-bold tracking-widest text-sm mb-4 block">OARA SCIENCE</span><h2 className="text-6xl font-black mb-6">Harm Reduction, Quantified.</h2></div><div className="grid grid-cols-1 md:grid-cols-2 gap-12 mb-32"><div className="bg-gray-50 rounded-3xl p-12 relative overflow-hidden"><Microscope size={48} className="text-blue-600 mb-6" /><h3 className="text-3xl font-bold mb-4">Chemical Analysis</h3><p className="text-gray-600 mb-8 leading-relaxed">Gas chromatography-mass spectrometry (GC-MS) confirms that OARA's aerosol contains significantly lower levels of Carbon Monoxide and Tar.</p></div><div className="bg-black text-white rounded-3xl p-12 flex flex-col justify-center"><Cpu size={48} className="text-brandYellow mb-6" /><h3 className="text-3xl font-bold mb-4">Precise Heat Control</h3><p className="text-gray-400 leading-relaxed">Combustion happens at >600¬∞C. OARA's SmartChip keeps the temperature strictly below 350¬∞C.</p></div></div></div></div>);
            const ServicePage = () => (<div className="animate-fade-in pt-32 pb-20 bg-white"><div className="max-w-5xl mx-auto px-6 text-center"><h2 className="text-4xl font-black mb-12">OARA Support</h2><div className="bg-gray-900 text-white p-8 md:p-12 rounded-3xl mb-12 text-left"><div className="relative z-10 max-w-xl mx-auto text-center"><h3 className="text-2xl font-bold mb-4">Product Authenticity Check</h3><button className="bg-black text-white px-6 py-3 rounded-lg font-bold border border-gray-600">Verify SN</button></div></div><div className="bg-gray-50 p-8 rounded-3xl border border-gray-100 max-w-2xl mx-auto mb-20 text-left"><h3 className="font-bold text-xl mb-2 flex items-center gap-2"><Award className="text-brandBlack"/> Warranty Status</h3></div><div className="text-left mb-12"><h3 className="text-3xl font-bold mb-8 text-center">Customer Support</h3><div className="grid grid-cols-1 md:grid-cols-3 gap-6"><div className="p-8 border border-gray-100 rounded-3xl bg-white text-center"><h4 className="font-bold text-xl mb-2">Live Chat</h4></div><div className="p-8 border border-gray-100 rounded-3xl bg-white text-center"><h4 className="font-bold text-xl mb-2">Email</h4></div><div className="p-8 border border-gray-100 rounded-3xl bg-white text-center"><h4 className="font-bold text-xl mb-2">Phone</h4></div></div></div></div></div>);
            const CommunityPage = () => (<div className="animate-fade-in pt-32 pb-20 bg-gray-50 min-h-screen"><div className="max-w-6xl mx-auto px-6"><div className="text-center mb-12"><h2 className="text-4xl font-black mb-4">The Lounge</h2><p className="text-gray-500">Join the conversation.</p></div><div className="grid grid-cols-1 md:grid-cols-2 gap-6">{[{ user: "Mike", title: "Good Switch" }, { user: "Sarah", title: "Better than expected" }].map((post, i) => (<div key={i} className="bg-white p-8 rounded-2xl shadow-sm"><h3 className="text-xl font-bold mb-2">{post.title}</h3><p className="text-gray-600 text-sm mb-6">User: {post.user}</p></div>))}</div></div></div>);
            const MemberPage = () => (<div className="animate-fade-in pt-24 pb-20 bg-gray-50 min-h-screen"><div className="max-w-6xl mx-auto px-6"><div className="aurora-bg text-white rounded-3xl p-8 md:p-12 mb-10 shadow-2xl"><h2 className="text-2xl font-bold">Welcome, Alex</h2></div></div></div>);
            const PodPage = () => <div className="animate-fade-in pt-32 text-center pb-20"><h2 className="text-4xl font-black mb-8">Hydro-Fusion Pods</h2></div>;
            const AccessoriesPage = () => <div className="animate-fade-in pt-32 text-center pb-20"><h2 className="text-4xl font-black mb-8">Accessories</h2></div>;
            const AboutPage = () => <div className="animate-fade-in pt-32 text-center pb-20"><h2 className="text-4xl font-black">About OARA</h2></div>;
            const JournalPage = () => <div className="animate-fade-in pt-32 text-center pb-20"><h2 className="text-4xl font-black">Journal</h2></div>;

            return (
                <div className="bg-white text-black selection:bg-brandYellow selection:text-black min-h-screen flex flex-col">
                    <PromoTicker />
                    <header className="sticky top-0 left-0 right-0 z-40 bg-white/95 backdrop-blur-md border-b border-gray-100">
                        <div className="max-w-7xl mx-auto px-6 py-4 grid grid-cols-3 items-center">
                            <div className="flex items-center justify-start">
                                <button className="flex items-center gap-2 text-sm font-bold uppercase tracking-widest hover:text-gray-600 transition-colors" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>
                                    <Menu size={20} /> <span className="hidden md:inline">Menu</span>
                                </button>
                            </div>
                            <div className="flex items-center justify-center">
                                <a href="#" onClick={(e) => {e.preventDefault(); navigateTo('home');}} className="flex items-center">
                                    <img src="OARA LOGO.png" alt="OARA" className="h-8 object-contain" onError={(e) => { e.target.style.display = 'none'; e.target.nextSibling.style.display = 'block'; }} />
                                    <div className="hidden text-2xl font-black tracking-tight">OARA</div>
                                </a>
                            </div>
                            <div className="flex items-center justify-end gap-5">
                                {/* Search Trigger (Updated UI) */}
                                <div className="relative">
                                    {!isSearchOpen && (
                                        <button 
                                            onClick={openSearch}
                                            className="flex items-center gap-2 border border-gray-200 bg-gray-50 rounded-full px-3 py-1.5 hover:border-black transition-all group"
                                        >
                                            <Search size={14} className="text-gray-500 group-hover:text-black"/>
                                            <span className="text-[10px] font-bold text-gray-400 group-hover:text-black uppercase tracking-wide">AI Search</span>
                                            <div className="w-4 h-4 bg-brandYellow rounded-full flex items-center justify-center ai-btn-glow">
                                                <Sparkles size={8} className="text-black"/>
                                            </div>
                                        </button>
                                    )}
                                </div>

                                <button className="text-xs font-bold border border-black rounded px-2 py-1 hover:bg-black hover:text-white transition-all hidden md:block">EN / USD</button>
                                <button className="hover:opacity-60 text-brandBlack" onClick={() => navigateTo('member')} title="Member Center"><User size={20} className={activePage === 'member' ? 'fill-black' : ''} /></button>
                                <button className="relative hover:opacity-60">
                                    <ShoppingBag size={20} />
                                    {quantity > 0 && <span className="absolute -top-1 -right-1 w-2 h-2 bg-brandYellow rounded-full border border-white"></span>}
                                </button>
                            </div>
                        </div>
                        
                        {/* Full Screen Search Overlay (Updated Background) */}
                        {isSearchOpen && (
                            <div className="fixed inset-0 z-50 bg-white/60 backdrop-blur-md animate-fade-in flex flex-col items-center justify-start pt-6" onClick={closeSearch}>
                                <div className="w-full max-w-3xl px-6 relative" onClick={(e) => e.stopPropagation()}>
                                    <button onClick={closeSearch} className="absolute -top-2 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors"><X size={24}/></button>
                                    <form onSubmit={handleSearchSubmit} className="relative w-full animate-search-expand origin-top">
                                        <input 
                                            ref={searchInputRef}
                                            type="text" 
                                            placeholder="Ask OARA AI anything..." 
                                            className="w-full text-xl font-bold bg-white border border-gray-200 shadow-2xl rounded-2xl py-3 pl-6 pr-32 outline-none focus:border-brandYellow placeholder-gray-300"
                                            style={{ height: '60px' }} // Controlled height
                                            value={searchQuery}
                                            onChange={(e) => setSearchQuery(e.target.value)}
                                        />
                                        <button type="submit" className="absolute right-2 top-1/2 -translate-y-1/2 bg-black text-white px-5 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-gray-800 transition-colors">
                                            <Sparkles size={14} className="animate-pulse"/> Ask
                                        </button>
                                    </form>
                                    <div className="mt-6 flex flex-wrap justify-center gap-3 opacity-0 animate-fade-in" style={{animationDelay: '0.2s'}}>
                                        {["Compare with Marlboro", "Nicotine levels", "Battery life", "Warranty check"].map(tag => (
                                            <button key={tag} onClick={() => { setSearchQuery(tag); }} className="text-xs font-bold text-gray-500 bg-white border border-gray-200 hover:text-black hover:border-black py-2 px-4 rounded-full transition-colors shadow-sm">{tag}</button>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {mobileMenuOpen && (
                            <div className="absolute top-full left-0 w-full bg-white border-b border-gray-200 shadow-xl py-8 px-6 flex flex-col items-center animate-fade-in">
                                <div className="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-8 text-center w-full max-w-7xl">
                                    {['device', 'pod', 'accessories', 'technology', 'service', 'community', 'about', 'journal'].map((id) => (
                                        <button key={id} onClick={() => navigateTo(id)} className={`text-lg font-bold uppercase hover:text-brandYellow transition-colors ${activePage === id ? 'text-black underline underline-offset-4' : 'text-gray-500'}`}>
                                            {id === 'technology' ? 'OARA Science' : (id === 'community' ? 'Community' : id)}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </header>

                    <main className="flex-grow">
                        {activePage === 'home' && (
                            <div>
                                <section className="pt-12 px-6 max-w-7xl mx-auto min-h-[75vh] flex flex-col justify-center relative">
                                    <div className="flex flex-col md:flex-row items-end justify-between mb-8">
                                        <div>
                                            <span className="bg-black text-white text-xs font-bold px-2 py-1 mb-4 inline-block">2026 New Arrive</span>
                                            <h1 className="text-6xl md:text-8xl font-bold leading-none mb-6">Anyone,<br/>Take 3 break<br/><span className="text-gray-400">waste!</span></h1>
                                            <button onClick={() => navigateTo('device')} className="text-sm font-bold border-b border-black pb-0.5 hover:text-gray-600">View All ></button>
                                        </div>
                                        <div className="w-full md:w-1/2 h-[350px] bg-gray-100 rounded-3xl mt-8 md:mt-0 flex items-center justify-center relative overflow-hidden">
                                            <div className="text-gray-300 font-bold text-8xl opacity-30">2026</div>
                                        </div>
                                    </div>
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        {products.map((p) => (
                                            <div key={p.id} onClick={() => { handleProductClick(p); setActivePage('device'); }} className="group cursor-pointer">
                                                <div className="bg-[#f5f5f7] rounded-xl h-64 flex items-center justify-center mb-3 relative overflow-hidden hover:shadow-md transition-all">
                                                    <div className={`w-20 h-48 bg-gradient-to-b ${colors[p.colorKey].imgGradient} rounded-full shadow-lg`}></div>
                                                </div>
                                                <div className="flex justify-between items-center px-1"><span className="font-bold text-sm">{p.name}</span><span className="font-bold text-sm">{p.price}</span></div>
                                            </div>
                                        ))}
                                    </div>
                                </section>
                                <div className="flex justify-center gap-8 md:gap-16 py-16 text-sm font-bold uppercase tracking-widest text-gray-400">
                                    <button onClick={() => navigateTo('device')} className="text-black hover:underline">Device ></button>
                                    <button onClick={() => navigateTo('pod')} className="hover:text-black">Pod ></button>
                                    <button onClick={() => navigateTo('accessories')} className="hover:text-black">Accessories ></button>
                                </div>
                                <HomeScienceHighlight onNavigate={() => navigateTo('technology')} />
                                <HomeJournalHighlight onNavigate={() => navigateTo('journal')} />
                                <HomeCommunityHighlight onNavigate={() => navigateTo('community')} />
                                <HomeFAQTeaser onNavigate={(query) => navigateTo('ai-search', { query })} />
                                <StoreLocator />
                            </div>
                        )}
                        {activePage === 'ai-search' && <AISearchPage initialQuery={aiInitialQuery} />}
                        {activePage === 'device' && <DevicePage />}
                        {activePage === 'pod' && <PodPage />}
                        {activePage === 'accessories' && <AccessoriesPage />}
                        {activePage === 'technology' && <TechnologyPage />}
                        {activePage === 'service' && <ServicePage />}
                        {activePage === 'member' && <MemberPage />}
                        {activePage === 'community' && <CommunityPage />}
                        {activePage === 'about' && <AboutPage />}
                        {activePage === 'journal' && <JournalPage />}
                    </main>

                    <footer className="bg-white border-t border-gray-100 py-12 text-center text-xs text-gray-400">
                        <div className="flex justify-center gap-6 mb-8"><a href="#" className="hover:text-black">Privacy</a><a href="#" className="hover:text-black">Terms</a><a href="#" className="hover:text-black">Contact</a></div>
                        <p>&copy; 2026 OARA Tech.</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<OARAWeb />);
    </script>
</body>
</html>
