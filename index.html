<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OARA - Science of HNBC</title>
    
    <!-- Ê†∏ÂøÉ‰æùËµñ -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brandYellow: '#f6ee52',
                        brandBlack: '#000000',
                        brandGreen: '#059669',
                        brandGold: '#F59E0B',
                    },
                    animation: {
                        'marquee': 'marquee 25s linear infinite',
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'gradient-x': 'gradientX 15s ease infinite',
                        'search-expand': 'searchExpand 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'cart-bounce': 'cartBounce 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)',
                        'heart-beat': 'heartBeat 0.3s ease-in-out',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(100%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        gradientX: {
                            '0%, 100%': { 'background-position': '0% 50%' },
                            '50%': { 'background-position': '100% 50%' },
                        },
                        searchExpand: {
                            '0%': { opacity: '0', transform: 'translateY(-20px) scale(0.9)' },
                            '100%': { opacity: '1', transform: 'translateY(0) scale(1)' }
                        },
                        cartBounce: {
                            '0%, 100%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.2)' }
                        },
                        heartBeat: {
                            '0%, 100%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.3)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .aurora-bg {
            background: linear-gradient(-45deg, #000000, #1a1a1a, #333333, #f6ee52);
            background-size: 400% 400%;
            animation: gradientX 15s ease infinite;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .ai-btn-glow { position: relative; overflow: hidden; }
        .ai-btn-glow::after {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.8), transparent);
            transform: rotate(45deg); animation: shine 3s infinite;
        }
        @keyframes shine { 0% { left: -100%; } 20% { left: 100%; } 100% { left: 100%; } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- 0. ÂõæÊ†áÂ∫ì ---
        const Icon = ({ path, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{path}</svg>
        );

        const Icons = {
            ShoppingBag: (p) => <Icon {...p} path={<><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></>} />,
            User: (p) => <Icon {...p} path={<><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></>} />,
            Search: (p) => <Icon {...p} path={<><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></>} />,
            Menu: (p) => <Icon {...p} path={<><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></>} />,
            X: (p) => <Icon {...p} path={<><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>} />,
            Plus: (p) => <Icon {...p} path={<><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            Minus: (p) => <Icon {...p} path={<><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            MapPin: (p) => <Icon {...p} path={<><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>} />,
            ChevronDown: (p) => <Icon {...p} path={<><path d="m6 9 6 6 6-6"/></>} />,
            ChevronRight: (p) => <Icon {...p} path={<><path d="m9 18 6-6-6-6"/></>} />,
            Star: (p) => <Icon {...p} path={<><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></>} />,
            Zap: (p) => <Icon {...p} path={<><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></>} />,
            Droplet: (p) => <Icon {...p} path={<><path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"/></>} />,
            MessageCircle: (p) => <Icon {...p} path={<><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></>} />,
            QrCode: (p) => <Icon {...p} path={<><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></>} />,
            Microscope: (p) => <Icon {...p} path={<><path d="M6 18h8"/><path d="M3 22h18"/><path d="M14 22a7 7 0 1 0 0-14h-1"/><path d="M9 14h2"/><path d="M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z"/><path d="M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3"/></>} />,
            Recycle: (p) => <Icon {...p} path={<><path d="M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5"/><path d="M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12"/><path d="m14 16-3 3 3 3"/><path d="M8.293 13.596 7.196 9.5 3.1 9.5a1.83 1.83 0 0 1-1.582-.881 1.785 1.785 0 0 1-.004-1.784l4.296-7.882a1.833 1.833 0 0 1 1.582-.892h8.605a1.832 1.832 0 0 1 1.582.892l4.296 7.882a1.785 1.785 0 0 1-.004 1.784L19.91 13.5"/></>} />,
            Mail: (p) => <Icon {...p} path={<><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></>} />,
            Phone: (p) => <Icon {...p} path={<><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></>} />,
            Cpu: (p) => <Icon {...p} path={<><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></>} />,
            Gift: (p) => <Icon {...p} path={<><polyline points="20 12 20 22 4 22 4 12"/><rect width="20" height="5" x="2" y="7" rx="1"/><line x1="12" x2="12" y1="22" y2="7"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/></>} />,
            Award: (p) => <Icon {...p} path={<><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></>} />,
            Box: (p) => <Icon {...p} path={<><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></>} />,
            Leaf: (p) => <Icon {...p} path={<><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></>} />,
            Sparkles: (p) => <Icon {...p} path={<><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5h4"/><path d="M19 19v4"/><path d="M15 21h4"/></>} />,
            Bot: (p) => <Icon {...p} path={<><rect width="18" height="10" x="3" y="11" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" x2="8" y1="16" y2="16"/><line x1="16" x2="16" y1="16" y2="16"/></>} />,
            CheckCircle: (p) => <Icon {...p} path={<><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></>} />,
            Clock: (p) => <Icon {...p} path={<><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></>} />,
            Lock: (p) => <Icon {...p} path={<><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></>} />,
            Unlock: (p) => <Icon {...p} path={<><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></>} />,
            Truck: (p) => <Icon {...p} path={<><rect width="16" height="13" x="1" y="3" rx="2" /><polygon points="16 8 20 8 23 11 23 16 16 16 16 8" /><circle cx="5.5" cy="18.5" r="2.5" /><circle cx="18.5" cy="18.5" r="2.5" /></>} />,
            ArrowRight: (p) => <Icon {...p} path={<><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></>} />,
            Heart: (p) => <Icon {...p} path={<><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></>} />,
            Eye: (p) => <Icon {...p} path={<><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></>} />,
            Send: (p) => <Icon {...p} path={<><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></>} />,
            Download: (p) => <Icon {...p} path={<><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></>} />,
            Calculator: (p) => <Icon {...p} path={<><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></>} />,
            AlertTriangle: (p) => <Icon {...p} path={<><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></>} />,
            Thermometer: (p) => <Icon {...p} path={<><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></>} />,
            Wind: (p) => <Icon {...p} path={<><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></>} />,
        };
        const { ShoppingBag, User, Search, Menu, X, Plus, Minus, MapPin, ChevronDown, Star, Zap, Droplet, MessageCircle, QrCode, Microscope, Recycle, Mail, Phone, Cpu, Gift, Award, Box, Leaf, Sparkles, Bot, CheckCircle, Clock, Lock, Unlock, Truck, ArrowRight, Heart, Eye, Send, Globe, Download, Calculator, AlertTriangle, Thermometer, Wind } = Icons;

        // --- NEW: AgeGate Component (ÂêàËßÑ P0) ---
        const AgeGate = () => {
            const [isVerified, setIsVerified] = useState(false);

            useEffect(() => {
                const verified = localStorage.getItem('oara_age_verified');
                if (verified) setIsVerified(true);
            }, []);

            const handleVerify = () => {
                localStorage.setItem('oara_age_verified', 'true');
                setIsVerified(true);
            };

            if (isVerified) return null;

            return (
                <div className="fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center text-white px-6 text-center animate-fade-in">
                    <div className="w-20 h-20 bg-brandYellow rounded-full flex items-center justify-center mb-8">
                        <span className="text-black font-black text-2xl">18+</span>
                    </div>
                    <h1 className="text-4xl font-black mb-4">Age Verification</h1>
                    <p className="text-gray-400 mb-10 max-w-md">
                        To enter this site, you must be of legal smoking age in your jurisdiction.
                    </p>
                    <div className="flex flex-col gap-4 w-full max-w-xs">
                        <button 
                            onClick={handleVerify}
                            className="bg-brandYellow text-black py-4 rounded-xl font-bold text-lg hover:bg-white transition-colors"
                        >
                            I am over 18
                        </button>
                        <button 
                            onClick={() => window.location.href = 'https://google.com'}
                            className="border border-gray-700 text-gray-500 py-4 rounded-xl font-bold text-lg hover:text-white hover:border-white transition-colors"
                        >
                            Exit
                        </button>
                    </div>
                </div>
            );
        };

        // --- Promo Ticker ---
        const PromoTicker = () => (
            <div className="bg-brandBlack text-brandYellow py-2 overflow-hidden relative z-[60]">
                <div className="whitespace-nowrap animate-marquee flex items-center gap-10 text-xs font-bold tracking-widest uppercase">
                    <span>New Science: 95% Less Harmful Chemicals</span><span>‚Ä¢</span><span>Join Green Action: Recycle & Earn Points</span><span>‚Ä¢</span><span>Free Shipping on orders over $100</span>
                </div>
            </div>
        );

        // --- Health Warning Bar (IQOS style) ---
        const HealthWarning = () => (
            <div className="fixed bottom-0 left-0 right-0 bg-white border-t-4 border-black p-4 z-[90] text-center shadow-[0_-5px_20px_rgba(0,0,0,0.1)]">
                 <p className="text-xs md:text-sm font-bold text-black uppercase tracking-wide flex items-center justify-center gap-2">
                    <AlertTriangle size={16} /> 
                    Warning: This product contains nicotine which is a highly addictive substance.
                 </p>
            </div>
        );

        // --- Components ---

        // 1. Switch Calculator Component (New)
        const SwitchCalculator = () => {
            const [cigsPerDay, setCigsPerDay] = useState(20);
            const pricePerPack = 12; // USD
            const oaraPackPrice = 6; // USD
            const savings = Math.floor((cigsPerDay / 20) * (pricePerPack - oaraPackPrice) * 365);
            
            return (
                <div className="bg-brandBlack text-white rounded-3xl p-8 md:p-12 shadow-2xl relative overflow-hidden">
                    <div className="relative z-10 grid md:grid-cols-2 gap-12 items-center">
                        <div>
                            <div className="inline-flex items-center gap-2 bg-brandYellow text-black px-3 py-1 rounded-full text-xs font-bold mb-4"><Calculator size={14}/> Cost Calculator</div>
                            <h3 className="text-3xl font-bold mb-4">Calculate Your Savings</h3>
                            <p className="text-gray-400 mb-8">See how much you could save by switching to OARA today.</p>
                            
                            <div className="mb-6">
                                <label className="block text-sm font-bold text-gray-400 mb-2">Cigarettes per day: {cigsPerDay}</label>
                                <input type="range" min="0" max="60" value={cigsPerDay} onChange={(e) => setCigsPerDay(e.target.value)} className="w-full accent-brandYellow h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"/>
                            </div>
                        </div>
                        <div className="bg-white/10 backdrop-blur border border-white/10 rounded-2xl p-8 text-center">
                            <p className="text-gray-400 text-sm uppercase tracking-widest mb-2">Annual Savings</p>
                            <div className="text-6xl font-black text-brandYellow mb-2">${savings}</div>
                            <p className="text-xs text-gray-500">*Based on average pack prices.</p>
                        </div>
                    </div>
                </div>
            );
        };

        // 2. Pod Page with Flavor Radar (Enhanced)
        const PodPage = () => {
            const flavors = [
                { n: 'i Filter Red Blast', c: 'bg-red-50', t: 'bg-gradient-to-t from-red-600 to-orange-500', aroma: 80, cool: 20, body: 90 },
                { n: 'i Filter Mint', c: 'bg-green-50', t: 'bg-gradient-to-t from-green-400 to-teal-200', aroma: 60, cool: 100, body: 50 },
                { n: 'i Filter Herbal', c: 'bg-gray-50', t: 'bg-gradient-to-t from-green-800 to-amber-700', aroma: 90, cool: 10, body: 80 }
            ];

            return (
                <div className="animate-fade-in pt-32 pb-20 bg-white">
                    <div className="max-w-6xl mx-auto px-6">
                        <div className="text-center mb-16">
                            <span className="text-blue-600 font-bold tracking-widest uppercase text-sm mb-4 block">i Filter Series</span>
                            <h2 className="text-5xl font-black mb-6">Find Your Flavor</h2>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            {flavors.map((f, i) => (
                                <div key={i} className={`${f.c} rounded-3xl p-8 hover:shadow-xl transition-all group`}>
                                    <div className="h-48 flex items-center justify-center mb-8 relative">
                                        <div className={`w-6 h-40 ${f.t} rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-500`}></div>
                                    </div>
                                    <h3 className="text-2xl font-black mb-6 text-center">{f.n}</h3>
                                    
                                    {/* Flavor Visualization */}
                                    <div className="space-y-3">
                                        <div className="flex items-center gap-2 text-xs font-bold text-gray-500">
                                            <span className="w-12">Aroma</span>
                                            <div className="flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden"><div className="h-full bg-black" style={{width: `${f.aroma}%`}}></div></div>
                                        </div>
                                        <div className="flex items-center gap-2 text-xs font-bold text-gray-500">
                                            <span className="w-12">Cooling</span>
                                            <div className="flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden"><div className="h-full bg-blue-400" style={{width: `${f.cool}%`}}></div></div>
                                        </div>
                                        <div className="flex items-center gap-2 text-xs font-bold text-gray-500">
                                            <span className="w-12">Body</span>
                                            <div className="flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden"><div className="h-full bg-amber-600" style={{width: `${f.body}%`}}></div></div>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // 3. Service Page with Firmware (Enhanced)
        const ServicePage = () => (
            <div className="animate-fade-in pt-32 pb-32 bg-white">
                <div className="max-w-5xl mx-auto px-6 text-center">
                    <h2 className="text-4xl font-black mb-12">OARA Support</h2>
                    
                    {/* Firmware Update Section (New) */}
                    <div className="bg-black text-white p-10 rounded-3xl mb-12 text-left flex flex-col md:flex-row items-center gap-8 shadow-2xl">
                        <div className="flex-1">
                            <div className="inline-flex items-center gap-2 bg-brandYellow text-black px-3 py-1 rounded-full text-xs font-bold mb-4">Latest: v2.4.1</div>
                            <h3 className="text-2xl font-bold mb-2">Device Firmware Update</h3>
                            <p className="text-gray-400 mb-6">Connect your OARA device to unlock new heating profiles and optimize battery life.</p>
                            <div className="flex gap-4">
                                <button className="flex items-center gap-2 bg-white text-black px-6 py-3 rounded-xl font-bold text-sm hover:bg-gray-200"><Download size={16}/> Windows</button>
                                <button className="flex items-center gap-2 border border-gray-600 text-white px-6 py-3 rounded-xl font-bold text-sm hover:border-white"><Download size={16}/> macOS</button>
                            </div>
                        </div>
                        <div className="w-full md:w-1/3 bg-gray-800 h-40 rounded-2xl flex items-center justify-center border border-gray-700">
                            <span className="text-gray-500 font-mono text-xs">CONNECT DEVICE VIA USB-C</span>
                        </div>
                    </div>

                    <div className="bg-gray-50 p-8 rounded-3xl border border-gray-100 max-w-2xl mx-auto mb-20 text-left">
                        <h3 className="font-bold text-xl mb-2 flex items-center gap-2"><Award className="text-brandBlack"/> Warranty Status</h3>
                        <div className="flex gap-2 mt-4"><input type="text" placeholder="Enter Device SN" className="flex-1 p-4 rounded-xl border border-gray-300 outline-none focus:border-black" /><button className="bg-black text-white px-8 rounded-xl font-bold">Check</button></div>
                    </div>

                     {/* Customer Support Grid */}
                     <div className="text-left mb-12">
                        <h3 className="text-3xl font-bold mb-8 text-center">Customer Support</h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div className="p-8 border border-gray-100 rounded-3xl hover:shadow-xl transition-shadow bg-white text-center group cursor-pointer"><div className="w-16 h-16 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-blue-600 group-hover:text-white transition-colors"><MessageCircle size={32}/></div><h4 className="font-bold text-xl mb-2">Live Chat</h4><p className="text-gray-500 text-sm mb-6">Average wait: 2 mins</p><button className="w-full py-3 rounded-xl bg-blue-50 text-blue-700 font-bold hover:bg-blue-100">Start Chat</button></div>
                            <div className="p-8 border border-gray-100 rounded-3xl hover:shadow-xl transition-shadow bg-white text-center group cursor-pointer"><div className="w-16 h-16 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-green-600 group-hover:text-white transition-colors"><Mail size={32}/></div><h4 className="font-bold text-xl mb-2">Email Ticket</h4><p className="text-gray-500 text-sm mb-6">Response within 24h</p><button className="w-full py-3 rounded-xl bg-green-50 text-green-700 font-bold hover:bg-green-100">Submit Ticket</button></div>
                            <div className="p-8 border border-gray-100 rounded-3xl hover:shadow-xl transition-shadow bg-white text-center group cursor-pointer"><div className="w-16 h-16 bg-yellow-50 text-yellow-600 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-yellow-500 group-hover:text-white transition-colors"><Phone size={32}/></div><h4 className="font-bold text-xl mb-2">Phone Support</h4><p className="text-gray-500 text-sm mb-6">Mon-Fri, 9am-6pm</p><button className="w-full py-3 rounded-xl bg-yellow-50 text-yellow-700 font-bold hover:bg-yellow-100">Call Us</button></div>
                        </div>
                    </div>
                </div>
            </div>
        );

        // Common Components from previous version
        const HomeHeroFusion = ({ onNavigate, onProductClick, products, colors }) => {
            const [localQuery, setLocalQuery] = useState("");
            const [placeholder, setPlaceholder] = useState("");
            const prompts = ["Compare with IQOS?", "Nicotine content?", "Battery life?", "Health benefits?"];
            const [promptIndex, setPromptIndex] = useState(0);
            const [charIndex, setCharIndex] = useState(0);
            const [isDeleting, setIsDeleting] = useState(false);
            const [isFocused, setIsFocused] = useState(false);

            useEffect(() => {
                const typeSpeed = isDeleting ? 50 : 100;
                const delay = isDeleting ? 0 : 2000;
                const timer = setTimeout(() => {
                    const currentPrompt = prompts[promptIndex];
                    if (!isDeleting && charIndex < currentPrompt.length) { setPlaceholder(currentPrompt.substring(0, charIndex + 1)); setCharIndex(charIndex + 1); }
                    else if (isDeleting && charIndex > 0) { setPlaceholder(currentPrompt.substring(0, charIndex - 1)); setCharIndex(charIndex - 1); }
                    else if (!isDeleting && charIndex === currentPrompt.length) { setIsDeleting(true); }
                    else if (isDeleting && charIndex === 0) { setIsDeleting(false); setPromptIndex((prev) => (prev + 1) % prompts.length); }
                }, typeSpeed + (charIndex === (prompts[promptIndex]?.length || 0) && !isDeleting ? delay : 0));
                return () => clearTimeout(timer);
            }, [charIndex, isDeleting, promptIndex]);

            return (
                <section className="relative w-full flex flex-col justify-center items-center overflow-hidden bg-[#f5f5f7] pt-32 pb-24">
                    <div className="absolute inset-0 z-0"><div className="absolute inset-0 bg-gradient-to-b from-transparent to-white/95"></div><div className="w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-200 via-gray-100 to-white opacity-80"></div><div className="absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-tr from-blue-100 to-purple-100 rounded-full blur-[100px] opacity-60 animate-pulse-slow"></div></div>
                    <div className="relative z-10 w-full max-w-6xl px-6 flex flex-col items-center">
                        <div className="text-center mb-10"><span className="inline-block bg-black text-white text-xs font-bold px-3 py-1 rounded-full mb-6 tracking-widest uppercase animate-fade-in">2026 New Arrival</span><h1 className="text-5xl md:text-7xl font-black mb-6 leading-tight tracking-tighter animate-fade-in" style={{animationDelay: '0.1s'}}>Future of <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">Inhalation.</span></h1></div>
                        <div className="w-full max-w-lg mx-auto relative group animate-fade-in mb-16 z-20" style={{animationDelay: '0.2s'}}><div className={`absolute -inset-1 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 rounded-full blur opacity-20 group-hover:opacity-40 transition duration-500 ${isFocused ? 'opacity-60 scale-105' : ''}`}></div><div className={`relative flex items-center bg-white/80 backdrop-blur-xl border border-white/50 rounded-full p-1.5 shadow-xl transition-all duration-300 ${isFocused ? 'scale-105 bg-white' : ''}`}><div className="pl-4 pr-3 text-blue-600"><Sparkles size={20} /></div><input type="text" className="flex-1 bg-transparent text-lg outline-none placeholder-gray-400 h-12 text-black" placeholder={placeholder + "|"} value={localQuery} onFocus={() => setIsFocused(true)} onBlur={() => setTimeout(() => setIsFocused(false), 200)} onChange={(e) => setLocalQuery(e.target.value)} onKeyDown={(e) => { if (e.key === 'Enter') onNavigate(localQuery); }} /><button onClick={() => onNavigate(localQuery)} className="bg-black text-white hover:bg-gray-800 transition-colors px-6 py-2.5 rounded-full font-bold flex items-center gap-2 text-sm">Ask AI</button></div><div className={`absolute top-full left-0 right-0 mt-4 transition-all duration-300 flex justify-center gap-2 ${isFocused ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4 pointer-events-none'}`}>{["Is it safer?", "Battery Specs", "Flavor List"].map(t => (<button key={t} onClick={() => onNavigate(t)} className="bg-white/90 backdrop-blur border border-gray-200 px-3 py-1.5 rounded-full text-xs font-bold text-gray-600 hover:text-blue-600 hover:border-blue-200 shadow-sm transition-colors">{t}</button>))}</div></div>
                        <div className="w-full grid grid-cols-1 md:grid-cols-3 gap-6 animate-fade-in" style={{animationDelay: '0.4s'}}>{products.map((p) => (<div key={p.id} onClick={() => onProductClick(p)} className="group cursor-pointer relative bg-white/60 backdrop-blur-sm rounded-3xl p-6 shadow-sm hover:shadow-xl hover:bg-white transition-all hover:-translate-y-2 border border-white/50"><div className="h-48 flex items-center justify-center mb-4 relative overflow-hidden rounded-2xl bg-gray-50/50"><div className={`w-12 h-32 bg-gradient-to-b ${colors[p.colorKey].imgGradient} rounded-full shadow-lg transform group-hover:scale-110 transition-transform duration-500`}></div></div><div className="flex justify-between items-end"><div><h3 className="font-bold text-lg">{p.name}</h3><p className="text-gray-400 text-xs">{p.desc}</p></div><span className="font-bold text-sm bg-black text-white px-3 py-1 rounded-full">{p.price}</span></div></div>))}</div>
                    </div>
                </section>
            );
        };

        const HomeScienceHighlight = ({ onNavigate }) => (
            <section className="py-20 bg-gray-50 border-t border-gray-100">
                <div className="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                    <div><span className="text-blue-600 font-bold tracking-widest text-sm mb-4 block">OARA SCIENCE</span><h2 className="text-4xl md:text-5xl font-black mb-6 leading-tight">Harm Reduction, <br/>Quantified.</h2><p className="text-gray-500 text-lg mb-8 leading-relaxed">Our proprietary Circumferential Heating Technology operates at strictly controlled temperatures (below 350¬∞C), ensuring nicotine delivery without combustion.</p><button onClick={onNavigate} className="flex items-center gap-2 text-blue-600 font-bold hover:underline">View Full Science Report <ArrowRight size={20} /></button></div>
                    <div className="bg-white p-10 rounded-3xl shadow-sm relative overflow-hidden"><div className="h-4 bg-gray-100 rounded-full mb-6 overflow-hidden relative"><div className="absolute top-0 left-0 h-full bg-red-500 w-full"></div><span className="absolute right-4 top-0 text-[10px] font-bold text-white leading-4">Combustible Cigarette (100%)</span></div><div className="h-4 bg-gray-100 rounded-full overflow-hidden relative"><div className="absolute top-0 left-0 h-full bg-blue-500 w-[5%]"></div><span className="absolute left-[7%] top-0 text-[10px] font-bold text-blue-600 leading-4">OARA HNBC (5%)</span></div><p className="text-xs text-gray-400 mt-6 text-center">*Based on ISO standard laboratory tests comparing harmful constituents.</p></div>
                </div>
            </section>
        );

        const HomeJournalHighlight = ({ onNavigate }) => (
            <section className="py-20 bg-white">
                <div className="max-w-6xl mx-auto px-6">
                    <div className="flex justify-between items-end mb-10"><h2 className="text-3xl font-black">Latest from Journal</h2><button onClick={onNavigate} className="text-sm font-bold border-b border-black pb-0.5">View All</button></div>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">{[{ title: "The Future of Heat-Not-Burn", cat: "INDUSTRY", date: "Jan 5", imgColor: "bg-gray-200" }, { title: "Sustainability at OARA: 2025 Report", cat: "GREEN", date: "Dec 20", imgColor: "bg-green-100" }, { title: "Designer Interview: The i-Heater Series", cat: "DESIGN", date: "Dec 10", imgColor: "bg-blue-100" }].map((item, i) => (<div key={i} className="group cursor-pointer"><div className={`${item.imgColor} h-48 rounded-2xl mb-4 overflow-hidden relative`}><div className="absolute top-4 right-4 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"><ArrowRight size={16}/></div><div className="w-full h-full bg-black/5 group-hover:scale-105 transition-transform duration-500"></div></div><div className="text-xs font-bold text-gray-400 mb-2">{item.cat} ‚Ä¢ {item.date}</div><h3 className="text-xl font-bold group-hover:underline leading-tight">{item.title}</h3></div>))}</div>
                </div>
            </section>
        );

        const HomeCommunityHighlight = ({ onNavigate }) => (
            <section className="py-20 bg-gray-50 border-t border-gray-100">
                <div className="max-w-6xl mx-auto px-6">
                    <div className="flex justify-between items-end mb-10"><h2 className="text-3xl font-black">Community Voices</h2><button onClick={onNavigate} className="text-sm font-bold border-b border-black pb-0.5">Join Discussion</button></div>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">{[{ user: "Mike T.", tag: "Marlboro Switch", content: "Finally switched from Reds. The 'Bold' pod hits just right.", likes: 124 }, { user: "Sarah L.", tag: "Zhonghua Switch", content: "Missing the plum scent a bit, but my throat feels much better.", likes: 89 }, { user: "Davide", tag: "Menthol Lover", content: "The Ocean Blue flavor is actually crisper than my old brand.", likes: 56 }].map((post, i) => (
                        <div key={i} className="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition-all cursor-pointer group">
                            <div className="flex justify-between items-start mb-4">
                                <div className="flex items-center gap-3"><div className="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-gray-500 text-xs">{post.user[0]}</div><span className="font-bold text-sm">{post.user}</span></div><span className="text-[10px] font-bold bg-gray-100 px-2 py-1 rounded text-gray-500">{post.tag}</span>
                            </div>
                            <p className="text-gray-600 text-sm mb-6 leading-relaxed">"{post.content}"</p>
                            <div className="flex items-center gap-4 text-xs text-gray-400 font-bold border-t pt-4 border-gray-100 group-hover:text-red-500 transition-colors">
                                <span className="flex items-center gap-1 group-hover:animate-heart-beat"><Heart size={14} className="group-hover:fill-red-500"/> {post.likes}</span><span>üí¨ Comment</span>
                            </div>
                        </div>
                    ))}</div>
                </div>
            </section>
        );

        // --- Other Components (Simplified for structure) ---
        const QuickViewModal = ({ product, onClose, onAddToCart }) => { if (!product) return null; return (<div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in" onClick={onClose}><div className="bg-white rounded-3xl p-8 max-w-2xl w-full mx-6 relative flex flex-col md:flex-row gap-8" onClick={e => e.stopPropagation()}><button onClick={onClose} className="absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full"><X size={20}/></button><div className="w-full md:w-1/2 bg-gray-100 rounded-2xl flex items-center justify-center h-64 md:h-auto"><div className="w-20 h-48 bg-gradient-to-b from-gray-300 to-gray-500 rounded-full shadow-lg"></div></div><div className="w-full md:w-1/2 flex flex-col justify-center"><h3 className="text-3xl font-bold mb-2">{product.name}</h3><p className="text-xl font-medium text-gray-500 mb-4">{product.price}</p><button onClick={() => { onAddToCart(product); onClose(); }} className="bg-black text-white w-full py-3 rounded-xl font-bold hover:bg-gray-800 transition-colors">Add to Cart</button></div></div></div>); };
        const LanguageCurrencySelector = () => { const [isOpen, setIsOpen] = useState(false); return (<div className="relative"><button onClick={() => setIsOpen(!isOpen)} className="text-xs font-bold border border-black rounded px-2 py-1 hover:bg-black hover:text-white transition-all hidden md:block">EN / USD</button>{isOpen && <div className="absolute top-full right-0 mt-2 w-40 bg-white border border-gray-200 rounded-xl shadow-xl p-4 animate-fade-in z-50"><div className="mb-4"><h4 className="text-xs font-bold text-gray-400 mb-2 uppercase">Language</h4><div className="flex gap-2"><button className="flex-1 py-1 rounded text-xs font-bold bg-black text-white">EN</button><button className="flex-1 py-1 rounded text-xs font-bold bg-gray-100 text-gray-600">FR</button></div></div><div><h4 className="text-xs font-bold text-gray-400 mb-2 uppercase">Currency</h4><div className="flex gap-2"><button className="flex-1 py-1 rounded text-xs font-bold bg-black text-white">USD</button><button className="flex-1 py-1 rounded text-xs font-bold bg-gray-100 text-gray-600">EUR</button></div></div></div>}</div>); };
        const AISearchPage = ({ initialQuery = "" }) => (<div className="animate-fade-in pt-32 pb-20 bg-gray-50 min-h-screen text-center"><h2 className="text-3xl font-black">AI Search Results for: {initialQuery || "..."}</h2></div>);
        const DevicePage = () => (<div className="animate-fade-in pt-32 pb-20 text-center"><h2 className="text-4xl font-black">Devices</h2></div>);
        const AccessoriesPage = () => (<div className="animate-fade-in pt-32 pb-20 text-center"><h2 className="text-4xl font-black">Accessories</h2></div>);
        const AboutPage = () => (<div className="animate-fade-in pt-32 pb-20 text-center"><h2 className="text-4xl font-black">About Us</h2></div>);
        const JournalPage = () => (<div className="animate-fade-in pt-32 pb-20 text-center"><h2 className="text-4xl font-black">Journal</h2></div>);
        const CommunityPage = () => (<div className="animate-fade-in pt-32 pb-20 text-center"><h2 className="text-4xl font-black">Community</h2></div>);
        const MemberPage = () => (<div className="animate-fade-in pt-24 pb-20 bg-gray-50 min-h-screen"><div className="max-w-6xl mx-auto px-6"><div className="aurora-bg text-white rounded-3xl p-12 shadow-2xl"><h2 className="text-2xl font-bold">Welcome, Alex</h2></div></div></div>);

        // --- ‰∏ªÁ®ãÂ∫è ---
        const OARAWeb = () => {
            const [activePage, setActivePage] = useState('home');
            const [deviceView, setDeviceView] = useState('list');
            const [selectedProduct, setSelectedProduct] = useState(null);
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
            const [quantity, setQuantity] = useState(1);
            const [selectedColor, setSelectedColor] = useState('silver');
            const [isSearchOpen, setIsSearchOpen] = useState(false);
            const [searchQuery, setSearchQuery] = useState('');
            const searchInputRef = useRef(null);
            const [aiInitialQuery, setAiInitialQuery] = useState('');
            const [quickViewProduct, setQuickViewProduct] = useState(null);
            const [cartCount, setCartCount] = useState(1);
            const [cartAnimating, setCartAnimating] = useState(false);

            const navigateTo = (page, params = {}) => {
                setActivePage(page);
                if (page === 'device') { setDeviceView('list'); setSelectedProduct(null); }
                if (page === 'ai-search' && params.query) { setAiInitialQuery(params.query); }
                else if (page !== 'ai-search') { setAiInitialQuery(''); }
                setMobileMenuOpen(false);
                window.scrollTo(0, 0);
            };

            const triggerAddToCart = (product) => {
                setCartCount(c => c + 1);
                setCartAnimating(true);
                setTimeout(() => setCartAnimating(false), 500);
                
                // GTM DataLayer Push Simulation
                console.log(`%c[Marketing Tracking] User added ${product?.name || 'Item'} to cart`, "color: #059669; font-weight: bold;");
                console.log("„ÄêGTM DataLayer Push„Äë", {
                    event: "add_to_cart",
                    ecommerce: {
                        currency: "USD",
                        value: product?.price ? parseFloat(product.price.replace('$','')) : 0,
                        items: [{
                            item_name: product?.name || "Product",
                            item_id: product?.id || "sku_unknown",
                            price: product?.price ? parseFloat(product.price.replace('$','')) : 0
                        }]
                    }
                });
            };

            const openSearch = () => { setIsSearchOpen(true); setTimeout(() => searchInputRef.current?.focus(), 100); };
            const closeSearch = () => { setIsSearchOpen(false); };
            const handleSearchSubmit = (e) => { e.preventDefault(); if (searchQuery.trim()) { setIsSearchOpen(false); navigateTo('ai-search', { query: searchQuery }); } };

            const products = [{ id: 'silver', name: 'i Heater Silver', colorKey: 'silver', price: '$99.00', desc: 'Classic elegance.' }, { id: 'blue', name: 'i Heater Blue', colorKey: 'blue', price: '$99.00', desc: 'Deep mystery.' }, { id: 'gold', name: 'i Heater Gold', colorKey: 'gold', price: '$129.00', desc: 'Limited Edition.' }];
            const colors = { silver: { imgGradient: 'from-gray-200 to-gray-400' }, blue: { imgGradient: 'from-blue-700 to-black' }, gold: { imgGradient: 'from-yellow-400 to-yellow-700' } };
            const handleProductClick = (product) => { setSelectedProduct(product); setSelectedColor(product.colorKey); setDeviceView('detail'); window.scrollTo(0, 0); };
            
            // 4. Store Locator ---
            const StoreLocator = () => (
                <section className="h-[500px] relative w-full bg-gray-200">
                    <div className="absolute inset-0 bg-[#e0e0e0] flex items-center justify-center opacity-70">
                        <div className="text-center"><MapPin size={64} className="mx-auto mb-4 text-gray-400" /><p className="text-4xl font-black text-gray-400/50 tracking-widest uppercase">Global Map</p></div>
                    </div>
                    <div className="absolute top-10 left-6 md:left-20 bg-white/95 backdrop-blur-sm p-6 rounded-2xl shadow-2xl w-[90%] md:w-[380px]">
                        <h3 className="text-xl font-bold text-black mb-4">Find a Retailer</h3>
                        <div className="relative mb-6"><Search className="absolute left-3 top-3.5 text-gray-400" size={18} /><input type="text" placeholder="City or Postal Code" className="w-full bg-gray-50 border border-gray-200 text-black rounded-lg pl-10 pr-4 py-3 outline-none focus:border-black transition-colors" /></div>
                        <div className="h-48 overflow-y-auto space-y-3 pr-2">{[1, 2, 3].map(i => (<div key={i} className="p-4 hover:bg-gray-50 rounded-xl cursor-pointer border border-transparent hover:border-gray-200 transition-all"><h4 className="font-bold text-black">OARA Store - Downtown</h4><p className="text-sm text-gray-500 mt-1">123 Tech Avenue, Innovation District</p><p className="text-xs text-green-600 mt-2 font-medium">‚óè Open Now</p></div>))}</div>
                    </div>
                </section>
            );
            // --- 5. Home Bottom FAQ Teaser (Optimized UX) ---
            const HomeFAQTeaser = ({ onNavigate }) => {
                const [localQuery, setLocalQuery] = useState("");

                return (
                    <section className="py-20 bg-white border-t border-gray-100">
                        <div className="max-w-4xl mx-auto px-6 text-center">
                            <div className="inline-flex items-center gap-2 bg-blue-50 text-blue-600 px-4 py-1 rounded-full text-xs font-bold mb-4"><Bot size={16} /> Support Center</div>
                            <h2 className="text-3xl font-black mb-6">Have Questions?</h2>
                            <p className="text-gray-500 mb-8">Get instant answers from our AI or browse common topics.</p>
                            
                            <div className="relative max-w-lg mx-auto mb-8">
                                <div className="w-full bg-gray-50 border border-gray-200 rounded-2xl py-2 pl-6 pr-2 flex items-center shadow-sm focus-within:ring-2 focus-within:ring-blue-100 transition-all">
                                    <input 
                                        type="text" 
                                        placeholder="Ask OARA AI..." 
                                        className="bg-transparent w-full outline-none text-gray-700 font-medium placeholder-gray-400"
                                        value={localQuery}
                                        onChange={(e) => setLocalQuery(e.target.value)}
                                        onKeyDown={(e) => {
                                            if (e.key === 'Enter') onNavigate(localQuery);
                                        }}
                                    />
                                    <button 
                                        onClick={() => onNavigate(localQuery)}
                                        className="bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 transition-colors shadow-md group"
                                    >
                                        <Sparkles size={18} className="group-hover:animate-pulse"/>
                                    </button>
                                </div>
                            </div>

                            <div className="flex flex-wrap justify-center gap-3">
                                {["Battery Life", "Nicotine", "Warranty", "Shipping"].map(t => (
                                    <button key={t} onClick={() => onNavigate(t)} className="text-sm font-bold text-gray-500 bg-white border border-gray-200 hover:border-black hover:text-black py-2 px-4 rounded-full transition-colors">{t}</button>
                                ))}
                            </div>
                        </div>
                    </section>
                );
            };

            // Technology Page with Switch Calculator
            const TechnologyPageWithCalc = () => (
                <div className="animate-fade-in pt-32 pb-20 bg-white">
                     <div className="sticky top-20 left-0 right-0 z-30 bg-white/80 backdrop-blur border-b border-gray-100 py-3 mb-10 overflow-x-auto">
                        <div className="max-w-6xl mx-auto px-6 flex gap-8 text-sm font-bold text-gray-500 whitespace-nowrap">
                            <a href="#analysis" className="hover:text-black text-black">Science</a>
                            <a href="#calculator" className="hover:text-black">Savings Calculator</a>
                            <a href="#green" className="hover:text-black">Green Action</a>
                        </div>
                     </div>
                     <div className="max-w-7xl mx-auto px-6">
                        <div className="text-center mb-24"><h2 className="text-6xl font-black mb-6">Harm Reduction</h2></div>
                        <div id="analysis" className="grid grid-cols-1 md:grid-cols-2 gap-12 mb-32"><div className="bg-gray-50 rounded-3xl p-12"><Microscope size={48} className="text-blue-600 mb-6"/><h3 className="text-3xl font-bold mb-4">Chemical Analysis</h3><p className="text-gray-600">95% reduction in harmful constituents.</p></div><div className="bg-black text-white rounded-3xl p-12"><Cpu size={48} className="text-brandYellow mb-6"/><h3 className="text-3xl font-bold mb-4">Smart Heat</h3><p className="text-gray-400">Precision temp control.</p></div></div>
                        
                        {/* Switch Calculator Section */}
                        <div id="calculator" className="mb-32">
                            <SwitchCalculator />
                        </div>

                        <div id="green" className="bg-green-50 rounded-3xl p-12 md:p-20 text-center"><div className="inline-block p-4 bg-white rounded-full text-brandGreen mb-6"><Recycle size={40}/></div><h2 className="text-4xl md:text-5xl font-black text-green-900 mb-6">Green Action Plan</h2><p className="text-green-800 text-lg mb-12">Recycle your pods.</p></div>
                    </div>
                </div>
            );

            return (
                <div className="bg-white text-black selection:bg-brandYellow selection:text-black min-h-screen flex flex-col">
                    <AgeGate />
                    <PromoTicker />
                    <header className="sticky top-0 left-0 right-0 z-40 bg-white/95 backdrop-blur-md border-b border-gray-100">
                        <div className="max-w-7xl mx-auto px-6 py-4 grid grid-cols-3 items-center">
                            <div className="flex items-center justify-start"><button className="flex items-center gap-2 text-sm font-bold uppercase tracking-widest hover:text-gray-600 transition-colors" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}><Menu size={20} /> <span className="hidden md:inline">Menu</span></button></div>
                            <div className="flex items-center justify-center"><a href="#" onClick={(e) => {e.preventDefault(); navigateTo('home');}} className="flex items-center"><img src="OARA LOGO.png" alt="OARA" className="h-8 object-contain" onError={(e) => { e.target.style.display = 'none'; e.target.nextSibling.style.display = 'block'; }} /><div className="hidden text-2xl font-black tracking-tight">OARA</div></a></div>
                            <div className="flex items-center justify-end gap-5">
                                <div className="relative">{!isSearchOpen && (<button onClick={openSearch} className="flex items-center gap-2 border border-gray-200 bg-gray-50 rounded-full px-3 py-1.5 hover:border-black transition-all group"><Search size={14} className="text-gray-500 group-hover:text-black"/><span className="text-[10px] font-bold text-gray-400 group-hover:text-black uppercase tracking-wide">AI Search</span><div className="w-4 h-4 bg-brandYellow rounded-full flex items-center justify-center ai-btn-glow"><Sparkles size={8} className="text-black"/></div></button>)}</div>
                                <LanguageCurrencySelector />
                                <button className="hover:opacity-60 text-brandBlack flex items-center gap-1" onClick={() => navigateTo('member')} title="Member Center"><User size={20} className={activePage === 'member' ? 'fill-black' : ''} /><span className="text-xs font-bold text-brandGold hidden lg:inline">2,450</span></button>
                                <button className="relative hover:opacity-60" onClick={() => navigateTo('device')}><ShoppingBag size={20} className={cartAnimating ? 'animate-cart-bounce' : ''} />{quantity > 0 && <span className="absolute -top-1 -right-1 w-2 h-2 bg-brandYellow rounded-full border border-white"></span>}</button>
                            </div>
                        </div>
                        {isSearchOpen && (<div className="fixed inset-0 z-50 bg-white/60 backdrop-blur-md animate-fade-in flex flex-col items-center justify-start pt-6" onClick={closeSearch}><div className="w-full max-w-3xl px-6 relative" onClick={(e) => e.stopPropagation()}><button onClick={closeSearch} className="absolute -top-2 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors"><X size={24}/></button><form onSubmit={handleSearchSubmit} className="relative w-full animate-search-expand origin-top"><input ref={searchInputRef} type="text" placeholder="Ask OARA AI anything..." className="w-full text-xl font-bold bg-white border border-gray-200 shadow-2xl rounded-2xl py-3 pl-6 pr-32 outline-none focus:border-brandYellow placeholder-gray-300" style={{ height: '60px' }} value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} /><button type="submit" className="absolute right-2 top-1/2 -translate-y-1/2 bg-black text-white px-5 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-gray-800 transition-colors"><Sparkles size={14} className="animate-pulse"/> Ask</button></form></div></div>)}
                        {mobileMenuOpen && (<div className="absolute top-full left-0 w-full bg-white border-b border-gray-200 shadow-xl py-8 px-6 flex flex-col items-center animate-fade-in"><div className="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-8 text-center w-full max-w-7xl">{['device', 'pod', 'accessories', 'technology', 'service', 'community', 'about', 'journal'].map((id) => (<button key={id} onClick={() => navigateTo(id)} className={`text-lg font-bold uppercase hover:text-brandYellow transition-colors ${activePage === id ? 'text-black underline underline-offset-4' : 'text-gray-500'}`}>{id === 'technology' ? 'OARA Science' : (id === 'community' ? 'Community' : id)}</button>))}</div><div className="w-full max-w-7xl border-t border-gray-100 pt-8 mt-4 grid grid-cols-2 gap-4"><button onClick={() => navigateTo('member')} className="flex items-center justify-center gap-2 py-3 bg-gray-50 rounded-xl font-bold text-sm"><User size={16}/> Member Center</button><div className="flex items-center justify-center gap-2 py-3 bg-gray-50 rounded-xl font-bold text-sm"><Globe size={16}/> EN / USD</div></div></div>)}
                    </header>
                    <QuickViewModal product={quickViewProduct} onClose={() => setQuickViewProduct(null)} onAddToCart={triggerAddToCart} />
                    <main className="flex-grow">
                        {activePage === 'home' && (
                            <div>
                                <HomeHeroFusion onNavigate={(query) => navigateTo('ai-search', { query })} onProductClick={handleProductClick} products={products} colors={colors} />
                                <div className="flex justify-center gap-8 md:gap-16 py-16 text-sm font-bold uppercase tracking-widest text-gray-400"><button onClick={() => navigateTo('device')} className="text-black hover:underline">Device ></button><button onClick={() => navigateTo('pod')} className="hover:text-black">Pod ></button><button onClick={() => navigateTo('accessories')} className="hover:text-black">Accessories ></button></div>
                                <HomeScienceHighlight onNavigate={() => navigateTo('technology')} />
                                <HomeJournalHighlight onNavigate={() => navigateTo('journal')} />
                                <HomeCommunityHighlight onNavigate={() => navigateTo('community')} />
                                <HomeFAQTeaser onNavigate={(query) => navigateTo('ai-search', { query })} />
                                <StoreLocator />
                            </div>
                        )}
                        {activePage === 'ai-search' && <AISearchPage initialQuery={aiInitialQuery} />}
                        {activePage === 'device' && <DevicePage />}
                        {activePage === 'pod' && <PodPage />}
                        {activePage === 'accessories' && <AccessoriesPage />}
                        {activePage === 'technology' && <TechnologyPageWithCalc />}
                        {activePage === 'service' && <ServicePage />}
                        {activePage === 'member' && <MemberPage />}
                        {activePage === 'community' && <CommunityPage />}
                        {activePage === 'about' && <AboutPage />}
                        {activePage === 'journal' && <JournalPage />}
                    </main>
                    <HealthWarning />
                    <footer className="bg-white border-t border-gray-100 py-12 pb-24 text-center text-xs text-gray-400">
                        <div className="flex justify-center gap-6 mb-8"><a href="#" className="hover:text-black">Privacy</a><a href="#" className="hover:text-black">Terms</a><a href="#" className="hover:text-black">Contact</a></div><p>&copy; 2026 OARA Tech.</p>
                    </footer>
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<OARAWeb />);
    </script>
</body>
</html>
